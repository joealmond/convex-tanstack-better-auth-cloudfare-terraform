# ===========================================
# CONVEX + TANSTACK START + CLOUDFLARE TEMPLATE
# ===========================================
# Copy this file to .env.local:  cp .env.example .env.local
# Then fill in the values below.

# --------------- Convex ---------------
# Run `npx convex dev` to create a deployment and get these values.
# The deployment name appears in your terminal after running the command.
CONVEX_DEPLOYMENT=dev:your-deployment-name

# Your Convex deployment URL (shown after `npx convex dev`)
# Format: https://<deployment-name>.convex.cloud
VITE_CONVEX_URL=https://your-deployment.convex.cloud

# Convex HTTP actions URL (same name, different TLD)
# Format: https://<deployment-name>.convex.site
VITE_CONVEX_SITE_URL=https://your-deployment.convex.site

# --------------- Better Auth ---------------
# REQUIRED: Generate a random secret for session encryption:
#   openssl rand -base64 32
#
# IMPORTANT: This MUST also be set on Convex (auth runs on the backend):
#   npx convex env set BETTER_AUTH_SECRET "your-generated-secret"
#
# Without this, auth will fail silently.
BETTER_AUTH_SECRET=your-secret-here

# Your app's public URL (used for OAuth callbacks)
# Dev: http://localhost:3000 | Prod: https://your-domain.com
SITE_URL=http://localhost:3000

# --------------- Google OAuth ---------------
# 1. Go to: https://console.cloud.google.com/apis/credentials
# 2. Create an OAuth 2.0 Client ID (Web application)
# 3. Add authorized redirect URI:
#    - Dev:  http://localhost:3000/api/auth/callback/google
#    - Prod: https://your-domain.com/api/auth/callback/google
# 4. Set these on Convex too:
#    npx convex env set GOOGLE_CLIENT_ID "your-id"
#    npx convex env set GOOGLE_CLIENT_SECRET "your-secret"
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# --------------- Cloudflare (for deploy) ---------------
# Only needed for deployment via Terraform/Wrangler.
# Get from: https://dash.cloudflare.com/profile/api-tokens
CLOUDFLARE_API_TOKEN=your-cloudflare-api-token
CLOUDFLARE_ACCOUNT_ID=your-cloudflare-account-id

# Optional: Custom domain (leave empty to use workers.dev subdomain)
CUSTOM_DOMAIN=

# --------------- App Config ---------------
# Automatically set by CI/CD — don't change manually
VITE_APP_ENV=development

# --------------- Optional: Sentry ---------------
# Error tracking. Get DSN from: https://sentry.io/ → Project Settings → Client Keys
VITE_SENTRY_DSN=
